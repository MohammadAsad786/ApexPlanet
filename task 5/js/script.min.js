let cart=JSON.parse(localStorage.getItem('cart'))||[];function updateCartCount(){document.querySelectorAll('#cartCount').forEach(e=>e.textContent=cart.length)}updateCartCount();document.querySelector('.hamburger')?.addEventListener('click',()=>{document.querySelector('.nav-links').classList.toggle('active')});if(document.getElementById('productList')){const products=[{id:1,name:'Fiction Book 1',category:'Fiction',price:15,rating:4.5,image:'images/book1.jpg'},{id:2,name:'Non-Fiction Book 1',category:'Non-Fiction',price:20,rating:4.8,image:'images/book2.jpg'},{id:3,name:'Fiction Book 2',category:'Fiction',price:12,rating:4.2,image:'images/book3.jpg'},{id:4,name:'Non-Fiction Book 2',category:'Non-Fiction',price:18,rating:4.6,image:'images/book4.jpg'}];function renderProducts(t){const e=document.getElementById('productList');e.innerHTML='';t.forEach(t=>{const n=document.createElement('div');n.classList.add('product');n.innerHTML=`<img src="${t.image}" alt="${t.name}" loading="lazy"><h3>${t.name}</h3><p>Category: ${t.category}</p><p>Price: $${t.price}</p><p>Rating: ${t.rating}</p><button onclick="addToCart(${t.id})">Add to Cart</button>`;e.appendChild(n)})}function applyFilters(){let e=[...products];const t=document.getElementById('categoryFilter').value;if(t)e=e.filter(e=>e.category===t);const n=parseFloat(document.getElementById('maxPrice').value);if(!isNaN(n))e=e.filter(e=>e.price<=n);const a=document.getElementById('sortBy').value;if(a==='rating')e.sort((e,t)=>t.rating-e.rating);else if(a==='price')e.sort((e,t)=>e.price-t.price);renderProducts(e)}document.getElementById('applyFilters').addEventListener('click',applyFilters);renderProducts(products)}function addToCart(t){const e=products.find(e=>e.id===t);if(e){cart.push(e);localStorage.setItem('cart',JSON.stringify(cart));updateCartCount();alert('Added to cart!')}}if(document.getElementById('cartList')){function renderCart(){const e=document.getElementById('cartList');e.innerHTML='';let t=0;cart.forEach((n,a)=>{const i=document.createElement('li');i.innerHTML=`${n.name} - $${n.price}<button onclick="removeFromCart(${a})">Remove</button>`;e.appendChild(i);t+=n.price});document.getElementById('cartTotal').textContent=t.toFixed(2)}function removeFromCart(e){cart.splice(e,1);localStorage.setItem('cart',JSON.stringify(cart));renderCart();updateCartCount()}document.getElementById('clearCart').addEventListener('click',()=>{cart=[];localStorage.setItem('cart',JSON.stringify(cart));renderCart();updateCartCount()});renderCart()}document.getElementById('contactForm')?.addEventListener('submit',e=>{e.preventDefault();alert('Message sent! (Demo)')});